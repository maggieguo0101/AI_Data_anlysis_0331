## 目标  
1. 验证用户自然语言对话的模式，是否可以根据品牌服务报告，进行任务拆解；
2. 在具体任务拆解上，是否可以输出对应任务主题的数据指标，默认按照指定维度进行数据加工处理分析，并对输出数据进行小结，用户可以基于输出结果可进行二次追问调整；
3. 最后将所有任务的内容进行聚合，并最后输出一份完整的品牌服务报告。

## 验证方案  
1. 设计一个对话agent王晓慧。
2. 对话agent王晓慧有6个子agent，分别为流量分析agent、交易分析agent、经营评分agent、评价分析agent、优惠码agent、供给agent。
3. 王晓慧对话agent王晓慧将负责进行后续子agent的调用，对话agent需要根据用户自然语言的输入，来判断需要调用6个主题agent中哪一个或哪几个agent。
4. 流量分析agent、交易分析agent、经营评分agent、评价分析agent、优惠码agent、供给agent的子agent中将包含以下功能：
数据加载专家 - 负责高效加载和预处理Excel数据文件
数据清洗专家 - 负责数据清洗、处理缺失值和异常值
数据分析专家 - 负责进行数据统计分析和挖掘
数据可视化专家 - 负责创建直观有效的数据可视化图表

5. 对话agent王晓慧由DeepSeek R1模型驱动，既输出思考过程，也输出对话结果。 
6.6个子agent，分别为流量分析agent、交易分析agent、经营评分agent、评价分析agent、优惠码agent、供给agent，由Claude 3.7 Sonnet模型驱动。
7.用户基于模型回复的内容，进行追问时，需要重新进入对话agent王晓慧再去找对应主体agent的流程，并重复上述的操作。
8.所有对话上下文，可被对话agent王晓慧、流量分析agent、交易分析agent、经营评分agent、评价分析agent、优惠码agent、供给agent共享。 
9. 在最后报告的产出过程中，将整合上述各个子agent的数据，并做数据的聚合，并交付给用户一个包含图表数据及文字解读的报告。



## 各子系统输入输出说明  
对话agent王晓慧输入：用户告知所需要分析的商户及月份的信息，任务类型为：生成品牌服务报告。
调度agent王晓慧输出：品牌服务报告中所需要分析的主题包含：流量、交易、经营评分、评分、优惠码、供给6个模块的内容。

流量分析agent输入：商户名称及月份，流量分析的相关提问。
流量分析agent输出：输出指定商户流量数据，指标包含：总曝光次数、广告曝光次数、自然曝光次数、商户详情页UV，并对输出的数据进行数据解读，数据默认按照品牌及城市维度进行分析；


交易分析agent输入：商户名称及月份，交易及成交订单量相关的提问。
交易分析agent输出：输出指定商户交易结果数据，指标包含：实付GTV、实付验证GTV、交易订单量、交易用户数、交易新客数、核销券数，并对输出的数据进行数据解读，数据默认按照品牌及城市维度进行分析；

经营评分agent输入：商户名称及月份，经营评分或金银铜牌无牌级门店、美团点评星级数量等相关的提问。
经营评分agent输出：输出指定商户的经营评分及金银铜牌数据，指标包含：省份、总门店数、金牌门店数、金牌门店数占比、银牌门店数、银牌门店数占比、铜牌门店数占比、无等级门店数、无等级门店数占比，并对输出的数据进行数据解读，数据默认按照省份进行维度进行分析，输出的内容以table的形式进行输出；

评价分析agent输入：商户名称及月份，经营评分或金银铜牌无牌级门店、美团点评星级数量等相关的提问。
评价分析agent输出：输出指定商户的评价数据，指标包含：点评新增评价数、美团新增评价数、点评新增差评数、美团新增差评数，并对输出的数据进行数据解读，数据默认按照品牌及城市维度进行分析；

优惠码agent输入：商户名称及月份，星店长或优惠码相关的提问；
优惠码agent输出：输出指定商户的评价数据，指标包含：扫码验证GTV、实付GTV、扫码GTV占比、目标扫码商户数、扫码动销门店数、线下扫码订单量、动销门店数占比、线下扫码订单量占比、职人码线下扫码GTV、职人码线下扫码订单量、职人码动销订单量、职人码动销金额，并对输出的数据进行数据解读，数据默认按照品牌及城市维度进行分析；

供给agent输入：商户名称及月份，团单销量、团单核销券数的提问；
供给agent输出：输出指定商户的供给的数据，指标包含：服务时长、商品名称、商品价格、5月核销券、6月核销券、7月核券数的并对输出的数据进行数据解读，数据默认按照品牌及城市维度进行分析；


## 王晓慧输入输出测试用例  
case1:  
>用户：帮我查下1月到3月份，郑远元商户的流量数据。  
>王晓慧调度Agent: 调用流量分析agent。
>流量分析agent：查询指定商户的流量数据，并将查询的数据进行品牌和城市维度的数据分析，并将数据以table的形式返回给到用户，并基于数据进行解读。

case2:  
>用户： 帮我出下郑远元各城市商户的金银铜牌数据，并添加分析附件
>王晓慧调度Agent: 调度经营评分agent；
>经营评分agent：根据用户上传的文件，筛选出品牌为郑远元商户的数据，数据是单门店的，需要按照省份列进行汇总加合，并计算出郑远元的各省份总门店数、金牌门店数、金牌门店数占比、银牌门店数、银牌门店数占比、铜牌门店数占比、无等级门店数、无等级门店数占比，结果以table图表形式返回给用户，同时用户可以下载table的数据为Excel到本地。

case3:  
>用户： 帮我查，郑远元商户整体品牌的金银铜牌数据，并计算下月环比的增长；
>王晓慧调度Agent: 调度经营评分agent；
>经营评分agent：根据用户所上传的文件，筛选出品牌为郑远元商户的数据，数据是单门店的，需要按照城市列进行汇总加合，并计算出郑远元的总门店数、金牌门店数、金牌门店数占比、银牌门店数、银牌门店数占比、铜牌门店数占比、无等级门店数、无等级门店数占比，并根据月环比=（本月数值-上月数值）/上月数值*100%的公式来计算出月环比值，并在图表中返回给到用户，并对数据进行数据解读。